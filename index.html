<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
     
      
    {
        date: Date.now(),
        var subject = 'Call Your Mother'
        var message = 'I am never gonna see a merman, ever. You haven\'t seen my drawer of inappropriate starches?'
        var sender = 'Mary Monster'
    },
    {
        date: Date.now(),
        var subject = 'Cheap Online Meds',
        var message = ''I\'ll kill a man in a fair fight. Or if I think he\'s gonna start a fair fight. Or if he bothers me. Or if there\'s a woman. Or if I\'m getting paid. Mostly when I\'m getting paid. I thought all children despise effort and enjoy cartoons. Don\'t be ridiculous. Martha Stewart isn\'t a demon. She\'s a witch. Someone else\'s loss is my chocolatey goodness. I don't want to use the word genius, but I\'d be okay if you wanted to. What did I say to you about barging into my shuttle. Now you can luxuriate in a nice jail cell, but if your hand touches metal, I swear by my pretty floral bonnet: I will end you. Oh Spike, devour me! You\'re gonna die screaming, but you won\'t be heard. Eyeballs to entrails, my sweet.' ,
        var sender = 'Dave Danger'
    }
    {
	date: Date.now()
	var subject = 'Change Your Life Today'
	var message = 'We need to save Hansel and Gretel. Well, you were busy trying to get yourself lit on fire. The only thing Willow was ever good for, the only thing I ever had going for me were those moments, just moments, where Tara would look at me and I was wonderful. Everyone\'s a hero in their own way, in their own not that heroic way. Planet\'s coming up a mite fast.'
	var sender = 'Spam Master'
	
    }
    {
    	date: Date.now()
	var subject = 'Sppoky Stories'
	var message = 'Better to cut you down to size, grandma. I\'m the one who brings about the thought-pocalypse. Yeah, it was sexy the way she touched me real hard with her fists. I dislike that Anya. She\'s newly human and strangely literal.'
	var sender = 'Spike Spurner'
    
    }
    {   date: Date.now ()
    	var subject = 'Meet Singles In Your Area'
    	var message = 'Yeah, well, I\'m not the one who wanted Wind Beneath My Wings for the first dance. She\'s a truck-driving magic mama! And I\'m a huge fan of the way you lose control and turn into an enormous green rage monster. We\'re outlaws with hearts of gold. Or even worse, a sneezure.'
    	var sender = 'Ray Ranger'
    }
    {
    	date: Date.now ()
    	var subject = 'Have You Heard?'
    	var message = 'Oh my god! Did it sing? Turns out I suddenly find myself needing to know the plural of apocalypse. It\'s about women. It was like the Heimlich, with stripes! First of all, Feng Shui up the yin yang, also I designed parts of it but I did not design the stone cold foxes in the small clothes and the ample massage facilities. That girl will rain destruction down on you and your ship. Sweetie, if he had a tussle with that Sasquatch, we\'d be in the dirt right now, scooping up the Captain\'s teeth. You can\'t spend the rest of your life waiting for Xander to wake up and smell the hottie. Either blow us all up or rub soup in our hair. It\'s a toss-up. I think calling him that is an insult to the psychotic lowlife community'
    	var sender = 'Catherine Chaos'
    }
    
    {	date: Date.now ()
    	var subject = 'Yo'
    	var message = 'Xander, that\'s not the North Star, it\'s an airplane. You can\'t open the book of my life and jump in the middle. What do they need such good eyesight for anyway? Well we could grind our enemies into talcum powder with a sledgehammer but, gosh, we did that last night. The gentlemen are coming by. You can\'t take the sky from me. Okay, at this point, you\'re abusing sarcasm. Well, I haven\'t been to a hell dimension just of late, but I do know a thing or two about torment.' 
    	var sender = 'Van Pire'
    }
    
    {
    	date: Date.now ()
    	var subject = 'RE: Looking for a three legged cat'
    	var message = 'And now the one person who should be here is gone, and a waste like you gets to live. The human mind is like Van Halen; if you just pull out one piece and keep replacing it, it just degenerates. Turns out I suddenly find myself needing to know the plural of apocalypse. It\'s a real burn, being right so often. Who\'s calling me? Everybody I know lives here.'
    	var sender = 'Andy Argye'
    }
    
    {
    	date: Date.now ()
    	var subject = 'Get Rich Quick!'
    	var message ='Looking in windows, knocking on doors. Well, look at me. I\'m all fuzzy. And what\'s with all the carrots? That girl will rain destruction down on you and your ship. If I could make you purtier, I would. I wanna hurt you, but I can\'t resist the sinister attraction of your cold and muscular body! Seems odd you\'d name your ship after a battle you were on the wrong side of.' 
    	var sender = 'Rick Roger'
    }
    
    {	date: Date.now ()
    	var subject = 'FW: Token Chain Email'
    	var message = 'I\'m a comfortador also. You\'re a hell of a woman. Passion rules us all. You\'re gonna die screaming but you won\'t be heard. How did your brain ever learn human speech? I\'m callous and strange.'
    	var sender = 'Sue Mee'
    };

function loadGeeMails(){
	for (var i = 0; i < 10; i++){
		var message = generateMessage();
		window.geemails.push(message);
	}
}

function generateMessage(date){
	var message = {};
	message.date = date || getRandomDate();
	message.subject = getRandomElement(subject);
	message.sender = getRandomElement(sender);
	message.body = getRandomElement(body);
	return message;
}

function getRandomElement(arr){
	return arr[Math.floor(Math.random() * arr.length)];
}

function getNewMessage(){
	var now = new Date();
	return generateMessage(now);
}

function getRandomDate(){
	var year = 2013;
	var month = Math.floor(Math.random() * 12) + 1;
	var day = Math.floor(Math.random() * 30) + 1;
	var hours = Math.floor(Math.random() * 12) + 1;
	var minutes = Math.floor(Math.random() * 59) + 1;
	return new Date(year, month, day, hours, minutes);
}

//load intial GeeMail data to window object
(function(){
	window.geemails = [];
	loadGeeMails();	
}

	setInterval (
		function addNewMessage(){
		var newMessage = getNewMessage();
		displayMessage(newMessage); 
		console.log(newMessage)};

//inbox count 
function inboxCount (){
	 var count = document.getElementById("count");  
 	 var inboxCount = window.geemails.length;  
 	 var counter = document.createTextNode(inboxCount);  
         count.appendChild(counter);  
}
      
    </script>
	</head>
	<body>
		<div class="container" id="main">
	<h1> Gee-Mail </h1>	
	<h2> Total Messages: <p id='count'></p></h2>
		</div>
	</body>
</html>
